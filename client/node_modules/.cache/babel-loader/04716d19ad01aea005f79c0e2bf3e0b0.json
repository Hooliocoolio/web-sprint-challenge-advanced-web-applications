{"ast":null,"code":"var _jsxFileName = \"/Users/hooliombp/LAMBDACLASS/WebApplications-2/3-Advance-Web-Applications/Sprint/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React, { useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport axios from \"axios\";\n\nconst Login = () => {\n  const [credentials, setCredentials] = useState({});\n  const {\n    push\n  } = useHistory();\n\n  const handleChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const login = e => {\n    e.preventDefault(); // make a post request to the login endpoint on the server\n\n    axios.post(\"http://localhost:5000/api/login\", credentials).then(res => {\n      console.log(res);\n      localStorage.setItem(\"token\", res.data.payload); // redirect the user to the app's main logged in page\n\n      push(\"/friendlist\");\n    }).catch(err => console.log({\n      err\n    }));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: credentials.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: credentials.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Log in\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/hooliombp/LAMBDACLASS/WebApplications-2/3-Advance-Web-Applications/Sprint/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","useHistory","axios","Login","credentials","setCredentials","push","handleChange","e","target","name","value","login","preventDefault","post","then","res","console","log","localStorage","setItem","data","payload","catch","err","username","password"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,KAAK,GAAG,MAAO;AACpB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAA+BL,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM;AAACM,IAAAA;AAAD,MAAUL,UAAU,EAA1B;;AACC,QAAMM,YAAY,GAAGC,CAAC,IAAI;AACxBH,IAAAA,cAAc,CAAC,EAEX,GAAGD,WAFQ;AAGX,OAACI,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAHf,KAAD,CAAd;AAMD,GAPD;;AASA,QAAMC,KAAK,GAAGJ,CAAC,IAAI;AACjBA,IAAAA,CAAC,CAACK,cAAF,GADiB,CAEjB;;AACAX,IAAAA,KAAK,CACFY,IADH,CACQ,iCADR,EAC4CV,WAD5C,EAEGW,IAFH,CAEQC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACK,IAAJ,CAASC,OAAvC,EAFW,CAGX;;AACDhB,MAAAA,IAAI,CAAC,aAAD,CAAJ;AACA,KAPH,EAQGiB,KARH,CAQSC,GAAG,IAAIP,OAAO,CAACC,GAAR,CAAY;AAAEM,MAAAA;AAAF,KAAZ,CARhB;AASD,GAZD;;AAeE,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEZ,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAER,WAAW,CAACqB,QAHrB;AAIE,IAAA,QAAQ,EAAElB,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAGH,WAAW,CAACsB,QAHtB;AAIE,IAAA,QAAQ,EAAEnB,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAdF,CADF,CADF;AAoBD,CA/CH;;AAkDA,eAAeJ,KAAf","sourcesContent":["import React, {useState} from \"react\";\nimport {useHistory} from 'react-router-dom';\nimport axios from \"axios\";\n\n\nconst Login = () =>  {\n const [credentials, setCredentials]= useState({})\n const {push}  = useHistory();\n  const handleChange = e => {\n    setCredentials({\n      \n        ...credentials,\n        [e.target.name]: e.target.value\n   \n    });\n  };\n\n  const login = e => {\n    e.preventDefault();\n    // make a post request to the login endpoint on the server\n    axios\n      .post(\"http://localhost:5000/api/login\",  credentials)\n      .then(res => {\n        console.log(res);\n        localStorage.setItem(\"token\", res.data.payload);\n        // redirect the user to the app's main logged in page\n       push(\"/friendlist\");\n      })\n      .catch(err => console.log({ err }));\n  };\n\n  \n    return (\n      <div>\n        <form onSubmit={login}>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={credentials.username}\n            onChange={handleChange}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={ credentials.password}\n            onChange={handleChange}\n          />\n          \n          <button>Log in</button>\n        </form>\n      </div>\n    );\n  }\n \n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}