{"ast":null,"code":"var _jsxFileName = \"/Users/hooliombp/LAMBDACLASS/WebApplications-2/3-Advance-Web-Applications/Sprint/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport '../utils/auth';\n\nconst Login = () => {\n  const [credentials, setCredentials] = useState({});\n  const {\n    push\n  } = useHistory();\n\n  const handleChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  }; // const handleChange = e => {\n  //   setData({\n  //     ...data,\n  //     [e.target.name]: e.target.value\n  //   })\n  // }\n  // make a post request to retrieve a token from the api\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post(`http://localhost:5000/api/login`, credentials).then(res => {\n      console.log('LOGIN', credentials);\n      localStorage.setItem('token', res.data.payload);\n      push('/bubbles');\n    }).catch(err => {\n      console.log(err);\n    });\n  }; // when you have handled the token, navigate to the BubblePage route\n\n\n  return React.createElement(\"div\", {\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Enter Username\",\n    value: credentials.username,\n    onChange: handleChange,\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    autoComplete: \"off\",\n    value: credentials.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Login\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/hooliombp/LAMBDACLASS/WebApplications-2/3-Advance-Web-Applications/Sprint/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axios","useHistory","Login","credentials","setCredentials","push","handleChange","e","target","name","value","handleSubmit","preventDefault","post","then","res","console","log","localStorage","setItem","data","payload","catch","err","username","password"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAUC,UAAV,QAA4B,kBAA5B;AACA,OAAO,eAAP;;AAGA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAM,CAAEC,WAAF,EAAeC,cAAf,IAAkCL,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM;AAACM,IAAAA;AAAD,MAASJ,UAAU,EAAzB;;AACA,QAAMK,YAAY,GAAGC,CAAC,IAAI;AACxBH,IAAAA,cAAc,CAAC,EACb,GAAGD,WADU;AAEb,OAACI,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFb,KAAD,CAAd;AAID,GALD,CAHkB,CAUlB;AACA;AACA;AACA;AACA;AACA;AACA;;;AACE,QAAMC,YAAY,GAAGJ,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACK,cAAF;AACAZ,IAAAA,KAAK,CACFa,IADH,CACS,iCADT,EAC2CV,WAD3C,EAEGW,IAFH,CAEQC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBd,WAApB;AACAe,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACK,IAAJ,CAASC,OAAvC;AACAhB,MAAAA,IAAI,CAAC,UAAD,CAAJ;AACD,KANH,EAOGiB,KAPH,CAOSC,GAAG,IAAI;AACZP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACD,KATH;AAWD,GAbD,CAjBgB,CA+BlB;;;AACA,SACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAM,IAAA,QAAQ,EAAEZ,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,gBAHd;AAIE,IAAA,KAAK,EAAER,WAAW,CAACqB,QAJrB;AAKE,IAAA,QAAQ,EAAElB,YALZ;AAME,IAAA,YAAY,EAAC,KANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,EAUE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,YAAY,EAAC,KAHf;AAIE,IAAA,KAAK,EAAEH,WAAW,CAACsB,QAJrB;AAKE,IAAA,QAAQ,EAAEnB,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,EAiBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBJ,EAkBI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAlBJ,CAHF,CADF;AA2BD,CA3DD;;AA6DA,eAAeJ,KAAf","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios'\nimport  { useHistory } from 'react-router-dom';\nimport '../utils/auth';\n\n\nconst Login = () => {\n  const [ credentials, setCredentials ] = useState({})\n  const {push} = useHistory();\n  const handleChange = e => {\n    setCredentials({\n      ...credentials,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  // const handleChange = e => {\n  //   setData({\n  //     ...data,\n  //     [e.target.name]: e.target.value\n  //   })\n  // }\n  // make a post request to retrieve a token from the api\n    const handleSubmit = e => {\n      e.preventDefault();\n      axios\n        .post(`http://localhost:5000/api/login`, credentials)\n        .then(res => {\n          console.log('LOGIN',credentials)\n          localStorage.setItem('token', res.data.payload)\n          push('/bubbles')\n        })\n        .catch(err => {\n          console.log(err)\n        })\n\n    }\n  // when you have handled the token, navigate to the BubblePage route\n  return (\n    <div className='login-form'>\n      <h1>Welcome to the Bubble App!</h1>\n      <hr /> \n      <form onSubmit={handleSubmit}>\n        <input\n          type='text'\n          name='username'\n          placeholder='Enter Username'\n          value={credentials.username}\n          onChange={handleChange}\n          autoComplete='off'\n          />\n          <br />\n        <input \n          type='password'\n          name='password'\n          autoComplete='off'\n          value={credentials.password}\n          onChange={handleChange}\n          />\n          <br />\n          <button type='submit'>Login</button>\n\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}