{"ast":null,"code":"var _jsxFileName = \"/Users/hooliombp/LAMBDACLASS/WebApplications-2/3-Advance-Web-Applications/Sprint/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React, { useState } from 'react';\nimport { axiosWithAuth } from '../utils/auth';\n\nconst Login = props => {\n  const [err, setErr] = useState();\n  const [data, setData] = useState({\n    username: '',\n    password: ''\n  });\n\n  const handleChange = e => {\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n  }; // make a post request to retrieve a token from the api\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axiosWithAuth().post('/api/login', data).then(res => {\n      localStorage.setItem('token', res.data.payload);\n      props.history.push('/bubbles');\n    }).catch(err => {\n      setErr(err.response.data.message);\n    });\n  }; // when you have handled the token, navigate to the BubblePage route\n\n\n  return React.createElement(\"div\", {\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Enter Username\",\n    value: data.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Enter Password\",\n    value: data.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Login\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/hooliombp/LAMBDACLASS/WebApplications-2/3-Advance-Web-Applications/Sprint/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axiosWithAuth","Login","props","err","setErr","data","setData","username","password","handleChange","e","target","name","value","handleSubmit","preventDefault","post","then","res","localStorage","setItem","payload","history","push","catch","response","message"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,aAAT,QAA8B,eAA9B;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB,QAAM,CAAEC,GAAF,EAAOC,MAAP,IAAkBL,QAAQ,EAAhC;AACA,QAAM,CAAEM,IAAF,EAAQC,OAAR,IAAoBP,QAAQ,CAAC;AACjCQ,IAAAA,QAAQ,EAAC,EADwB;AAEjCC,IAAAA,QAAQ,EAAC;AAFwB,GAAD,CAAlC;;AAKA,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACxBJ,IAAAA,OAAO,CAAC,EACN,GAAGD,IADG;AAEN,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFpB,KAAD,CAAP;AAID,GALD,CAPuB,CAavB;;;AACE,QAAMC,YAAY,GAAGJ,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACK,cAAF;AACAf,IAAAA,aAAa,GAAGgB,IAAhB,CAAqB,YAArB,EAAmCX,IAAnC,EACGY,IADH,CACQC,GAAG,IAAI;AACXC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACb,IAAJ,CAASgB,OAAvC;AACAnB,MAAAA,KAAK,CAACoB,OAAN,CAAcC,IAAd,CAAmB,UAAnB;AACD,KAJH,EAKGC,KALH,CAKSrB,GAAG,IAAI;AACZC,MAAAA,MAAM,CAACD,GAAG,CAACsB,QAAJ,CAAapB,IAAb,CAAkBqB,OAAnB,CAAN;AACD,KAPH;AASD,GAXD,CAdqB,CA0BvB;;;AACA,SACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAM,IAAA,QAAQ,EAAEZ,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,gBAHd;AAIE,IAAA,KAAK,EAAET,IAAI,CAACE,QAJd;AAKE,IAAA,QAAQ,EAAEE,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,EASE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,gBAHd;AAIE,IAAA,KAAK,EAAEJ,IAAI,CAACG,QAJd;AAKE,IAAA,QAAQ,EAAEC,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAgBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBJ,EAiBI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAjBJ,CAHF,CADF;AA0BD,CArDD;;AAuDA,eAAeR,KAAf","sourcesContent":["import React, {useState} from 'react';\nimport { axiosWithAuth } from '../utils/auth';\n\nconst Login = (props) => {\n  const [ err, setErr ] = useState()\n  const [ data, setData ] = useState({\n    username:'',\n    password:''\n  })\n\n  const handleChange = e => {\n    setData({\n      ...data,\n      [e.target.name]: e.target.value\n    })\n  }\n  // make a post request to retrieve a token from the api\n    const handleSubmit = e => {\n      e.preventDefault()\n      axiosWithAuth().post('/api/login', data)\n        .then(res => {\n          localStorage.setItem('token', res.data.payload)\n          props.history.push('/bubbles')\n        })\n        .catch(err => {\n          setErr(err.response.data.message)\n        })\n\n    }\n  // when you have handled the token, navigate to the BubblePage route\n  return (\n    <div className='login-form'>\n      <h1>Welcome to the Bubble App!</h1>\n      <hr /> \n      <form onSubmit={handleSubmit}>\n        <input\n          type='text'\n          name='username'\n          placeholder='Enter Username'\n          value={data.username}\n          onChange={handleChange}\n          />\n          <br />\n        <input \n          type='password'\n          name='password'\n          placeholder='Enter Password'\n          value={data.password}\n          onChange={handleChange}\n          />\n          <br />\n          <button type='submit'>Login</button>\n\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}